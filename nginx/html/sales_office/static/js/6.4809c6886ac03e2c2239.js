webpackJsonp([6],{IArx:function(e,t){},gyIw:function(e,t){},kr6j:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("mvHQ"),l=a.n(s),r=a("Xxa5"),n=a.n(r),i=a("exGp"),c=a.n(i),o=a("1h8J"),u=a("yclV"),p={name:"cus",data:function(){return{isTeamDirector:!1,isTitleDirector:!1,user:null,dis:!1,isLoad:!1,total:100,value:"",radio:"",time:"",isDia:!1,sel:{saller_tel:null,create_time:null,saller_name:null,team_name:null,pre_page:10,page_num:1},tabName:"创建账号",saller:{saller_id:null,saller_name:null,saller_tel:null,password:null,title:"销售总监",team_name:null},rules:{saller_name:[{required:!0,message:"名字不可为空",trigger:"blur"}],saller_tel:[{required:!0,message:"账号不可为空",trigger:"blur"}],password:[{required:!0,message:"密码不可为空",trigger:"blur"}]},options:[],tableData:[]}},components:{},computed:{},created:function(){var e=this;return c()(n.a.mark(function t(){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.getUser(),t.next=3,e.changeDate();case 3:case"end":return t.stop()}},t,e)}))()},mounted:function(){var e=this;return c()(n.a.mark(function t(){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.chanTeam();case 2:case"end":return t.stop()}},t,e)}))()},activated:function(){},deactivated:function(){},methods:{getUser:function(){var e=Object(u.a)("user"),t=e?JSON.parse(e):{};this.user=t},init:function(){this.isLoad=!1,this.saller={saller_id:null,saller_name:null,saller_tel:null,password:null,title:"销售总监",team_name:null}},changeDate:function(){var e=this;return c()(n.a.mark(function t(){var a,s,r,i;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=l()(e.sel),(s=JSON.parse(a)).create_time&&(r=new Date(s.create_time),s.create_time=r.toLocaleDateString()),t.next=5,Object(o.f)(s);case 5:if(0==(i=t.sent).code){t.next=9;break}return e.$message({type:"error",message:i.msg}),t.abrupt("return");case 9:e.tableData=i.data.accounts,e.total=i.data.total;case 11:case"end":return t.stop()}},t,e)}))()},indexMethod:function(e){return e+1},chgTit:function(){"销售顾问"==this.saller.title?this.isTeamDirector=!1:(this.isTeamDirector=!0,this.saller.team_name=null)},handleCurrentChange:function(e){this.sel.page_num=e,this.changeDate()},set:function(e){var t=this;return c()(n.a.mark(function a(){var s;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.tabName="修改",t.isTitleDirector=!0,t.dis=!0,a.next=5,Object(o.i)({saller_id:e.saller_id});case 5:s=a.sent,t.saller=s.data,t.isDia=!0,t.isLoad=!1,"销售顾问"==e.title?t.isTeamDirector=!1:t.isTeamDirector=!0;case 10:case"end":return a.stop()}},a,t)}))()},del:function(e){var t=this;return c()(n.a.mark(function a(){return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:t.$confirm("您确定要删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(c()(n.a.mark(function a(){var s;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(o.d)({saller_id:e.saller_id});case 2:if(0==(s=a.sent).code){a.next=6;break}return t.$message({type:"error",message:s.msg}),a.abrupt("return");case 6:t.$message({type:"success",message:"删除成功!"}),t.changeDate();case 8:case"end":return a.stop()}},a,t)})));case 1:case"end":return a.stop()}},a,t)}))()},add:function(){this.isDia=!0,this.isTeamDirector=!0,this.isTitleDirector=!1,this.tabName="添加",this.init(),this.dis=!1},closeSet:function(){this.isDia=!1,"添加"==this.tabName&&this.$refs.ruleForm&&this.$refs.ruleForm.resetFields()},upOk:function(e){var t=this;return c()(n.a.mark(function a(){return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:t.$refs[e].validate(function(){var e=c()(n.a.mark(function e(a){var s,l;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=33;break}if(s=/^(13[0-9]{9})|(15[0-9]{9})|(17[0-9]{9})|(18[0-9]{9})|(19[0-9]{9})$/,t.saller.saller_name){e.next=5;break}return t.$message({type:"error",message:"名称不可为空"}),e.abrupt("return");case 5:if(t.saller.saller_tel){e.next=8;break}return t.$message({type:"error",message:"账号不可为空"}),e.abrupt("return");case 8:if(s.test(t.saller.saller_tel)){e.next=11;break}return t.$message({type:"error",message:"账号格式有误"}),e.abrupt("return");case 11:if(t.isLoad=!0,l=void 0,"添加"!=t.tabName){e.next=22;break}if(t.saller.password){e.next=17;break}return t.$message({type:"error",message:"密码不可为空"}),e.abrupt("return");case 17:return e.next=19,Object(o.a)(t.saller);case 19:l=e.sent,e.next=25;break;case 22:return e.next=24,Object(o.x)(t.saller);case 24:l=e.sent;case 25:if(t.isLoad=!1,0==l.code){e.next=29;break}return t.$message({type:"error",message:l.msg}),e.abrupt("return");case 29:t.$message({type:"success",message:"设置成功"}),t.init(),t.changeDate(),t.isDia=!1;case 33:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return a.stop()}},a,t)}))()},reset:function(){var e=this.sel;e.saller_tel=null,e.create_time=null,e.saller_name=null,e.team_name=null,this.sel=e},chanTeam:function(){var e=this;return c()(n.a.mark(function t(){var a;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(o.t)({build_id:e.user.build_id});case 2:if(0==(a=t.sent).code){t.next=6;break}return e.$message({type:"error",message:a.msg}),t.abrupt("return");case 6:Array.isArray(a.data)?e.options=a.data:e.options=[],e.options.unshift(null);case 8:case"end":return t.stop()}},t,e)}))()}}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{width:"100%",height:"100%"}},[a("div",{staticClass:"menu-top"},[e._v("账号管理")]),e._v(" "),a("div",{staticClass:"table-top radius_8"},[a("div",{staticClass:"table-top-left"},[a("div",{staticClass:"table-top-left-top"},[a("div",{staticClass:"div_p"},[a("span",{staticClass:"font_size_20"},[e._v("账号")]),e._v(" "),a("el-input",{staticClass:"inp",attrs:{placeholder:"请输入内容"},model:{value:e.sel.saller_tel,callback:function(t){e.$set(e.sel,"saller_tel",t)},expression:"sel.saller_tel"}})],1),e._v(" "),a("div",{staticClass:"div_p"},[a("span",{staticClass:"font_size_20"},[e._v("创建时间")]),e._v(" "),a("el-date-picker",{staticClass:"inp",attrs:{type:"date",placeholder:"选择日期"},model:{value:e.sel.create_time,callback:function(t){e.$set(e.sel,"create_time",t)},expression:"sel.create_time"}})],1),e._v(" "),e._m(0)]),e._v(" "),a("div",{staticClass:"table-top-left-btn"},[a("div",{staticClass:"div_p"},[a("span",{staticClass:"font_size_20"},[e._v("团队")]),e._v(" "),a("el-select",{staticClass:"inp",attrs:{placeholder:"请选择"},model:{value:e.sel.team_name,callback:function(t){e.$set(e.sel,"team_name",t)},expression:"sel.team_name"}},e._l(e.options,function(e,t){return a("el-option",{key:t,attrs:{label:null==e?"全部":e,value:e}})}),1)],1),e._v(" "),a("div",{staticClass:"div_p"},[a("span",{staticClass:"font_size_20"},[e._v("名字")]),e._v(" "),a("el-input",{staticClass:"inp",attrs:{placeholder:"请输入内容"},model:{value:e.sel.saller_name,callback:function(t){e.$set(e.sel,"saller_name",t)},expression:"sel.saller_name"}})],1),e._v(" "),e._m(1)])]),e._v(" "),a("div",{staticClass:"table-top-rig"},[a("el-button",{staticClass:"but",on:{click:function(t){return e.reset()}}},[e._v("重置")]),e._v(" "),a("el-button",{staticClass:"but",attrs:{type:"primary"},on:{click:function(t){return e.changeDate()}}},[e._v("查询")])],1)]),e._v(" "),a("div",{staticClass:"menu-small-top"},[a("span",{staticClass:"font_size_weight_600"},[e._v("账号列表")]),e._v(" "),a("el-button",{staticClass:"but",staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:e.add}},[e._v("添加")])],1),e._v(" "),a("div",{staticClass:"table-btn"},[[a("el-table",{staticClass:"font_size_16",staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{label:"序号",width:"100",align:"center",prop:"NO"}}),e._v(" "),a("el-table-column",{attrs:{prop:"saller_tel",label:"账号",width:"230"}}),e._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"创建时间",width:"230"}}),e._v(" "),a("el-table-column",{attrs:{prop:"saller_name",width:"230",label:"名字"}}),e._v(" "),a("el-table-column",{attrs:{prop:"title",width:"230",label:"角色"}}),e._v(" "),a("el-table-column",{attrs:{prop:"team_name",width:"230",label:"团队"}}),e._v(" "),a("el-table-column",{attrs:{prop:"leader",width:"230",label:"直系领导"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"font_size_14",attrs:{type:"text",size:"small"},on:{click:function(a){return e.set(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{staticClass:"font_size_14",attrs:{type:"text",size:"small"},on:{click:function(a){return e.del(t.row)}}},[e._v("删除")])]}}])})],1)],e._v(" "),a("div",{staticClass:"page"},[a("el-pagination",{attrs:{background:"",layout:"total,prev, pager, next,jumper","page-size":e.sel.pre_page,total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],2),e._v(" "),a("el-dialog",{attrs:{"modal-append-to-body":!1,title:e.tabName,visible:e.isDia,width:"420px","before-close":e.closeSet},on:{"update:visible":function(t){e.isDia=t}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.saller,rules:e.rules,"label-width":"130px"}},[a("el-form-item",{attrs:{label:"名字",prop:"saller_name"}},[a("el-input",{staticClass:"inp",attrs:{disabled:e.dis,placeholder:"请输入"},model:{value:e.saller.saller_name,callback:function(t){e.$set(e.saller,"saller_name",t)},expression:"saller.saller_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"账号",prop:"saller_tel"}},[a("el-input",{staticClass:"inp",attrs:{disabled:e.dis,placeholder:"请输入"},model:{value:e.saller.saller_tel,callback:function(t){e.$set(e.saller,"saller_tel",t)},expression:"saller.saller_tel"}})],1),e._v(" "),"修改"==e.tabName?a("el-form-item",{attrs:{label:"密码"}},[a("el-input",{staticClass:"inp",attrs:{placeholder:"请输入"},model:{value:e.saller.password,callback:function(t){e.$set(e.saller,"password",t)},expression:"saller.password"}})],1):a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{staticClass:"inp",attrs:{placeholder:"请输入"},model:{value:e.saller.password,callback:function(t){e.$set(e.saller,"password",t)},expression:"saller.password"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"选择角色"}},[a("div",{staticClass:"set-role-right"},[[a("el-radio-group",{attrs:{disabled:e.isTitleDirector,change:e.chgTit()},model:{value:e.saller.title,callback:function(t){e.$set(e.saller,"title",t)},expression:"saller.title"}},[a("el-radio",{attrs:{label:"销售总监"}},[e._v("销售总监")]),e._v(" "),a("el-radio",{attrs:{label:"销售经理"}},[e._v("销售经理")]),e._v(" "),a("el-radio",{attrs:{label:"销售顾问"}},[e._v("销售顾问")]),e._v(" "),a("el-radio",{attrs:{label:"女专"}},[e._v("女专")]),e._v(" "),a("el-radio",{attrs:{label:"财务专员"}},[e._v("财务专员")])],1)]],2)]),e._v(" "),a("el-form-item",{attrs:{label:"团队"}},[a("el-select",{staticClass:"inp",attrs:{placeholder:"请选择",disabled:e.isTeamDirector},model:{value:e.saller.team_name,callback:function(t){e.$set(e.saller,"team_name",t)},expression:"saller.team_name"}},e._l(e.options,function(e,t){return a("el-option",{key:t,attrs:{label:null==e?"请选择":e,value:e}})}),1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.closeSet}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.isLoad},on:{click:function(t){return e.upOk("ruleForm")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"div_p"},[t("span",{staticClass:"font_size_20"}),this._v(" "),t("div",{staticClass:"inp"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"div_p"},[t("span",{staticClass:"font_size_20"}),this._v(" "),t("div",{staticClass:"inp"})])}]};var m=a("VU/8")(p,d,!1,function(e){a("IArx"),a("gyIw")},"data-v-096eb191",null);t.default=m.exports}});
//# sourceMappingURL=6.4809c6886ac03e2c2239.js.map